{
  "title": "小程序原理简述",
  "date": "2022-01-26T00:00:00.000Z",
  "tags": [
    "interaction design",
    "ux",
    "product design"
  ],
  "draft": false,
  "summary": "小程序原理简述。",
  "body": {
    "raw": "\n# 双线程架构与渲染原理\n\n## **双线程架构概述**\n- **逻辑层**：\n  - 使用 `JavaScriptCore` (JSC) 运行 JavaScript 脚本。\n- **渲染层**：\n  - 使用 `WebView` 渲染页面。\n\n### **线程之间的通信**\n- 两个线程通过 **Native 微信客户端** 进行通信。\n- 微信客户端还负责 **发送网络请求**。\n\n---\n\n## **双线程的优势**\n1. **隔离操作**：\n   - 开发者无法直接操作 DOM 或跳转页面。\n2. **安全性**：\n   - 便于管控危险 API，避免安全问题。\n3. **性能优化**：\n   - 渲染和逻辑分离，减少互相阻塞。\n\n---\n\n## **渲染方法：数据驱动**\n1. **数据传输**：\n   - 在逻辑层调用 `setData` 方法时，将数据序列化为字符串并传输到渲染层。\n2. **数据处理**：\n   - 渲染层 (WebView) 在页面空闲时接收数据。\n3. **渲染流程**：\n   - **合并数据**：将新数据与旧数据合并。\n   - **Diff 算法**：比较节点树的差异，更新需要变化的 UI 部分。\n   - **更新 UI**：将计算结果反映到页面上。\n\n### **限制**\n- 每个视图使用独立的 WebView。\n- **视图数量限制**：不能超过 5 个 WebView。\n\n---\n\n## **与 React Native (RN) 的对比**\n1. **CSS 支持**：\n   - 双线程架构对 CSS 的支持更好，接近 Web 标准。\n2. **稳定性**：\n   - RN 存在较多 Bug，双线程架构更稳定。\n3. **法律风险**：\n   - 双线程架构避免了 RN 的专利问题。\n\n---\n\n## **渲染策略**\n- **小程序**：\n  - WebView 渲染页面。\n  - 部分原生组件由客户端直接渲染。\n- **React Native**：\n  - 由客户端直接渲染所有内容。\n\n---\n\n## **同层渲染**\n### **iOS**\n- 使用 `WKChildScrollView`：\n  - 将原生组件挂载到支持 `overflow: scrolling` 和 `touch` 的组件下方。\n\n### **Android**\n- 使用 `WebPlugin` 实现类似的功能。\n\n---\n\n双线程架构通过逻辑层和渲染层的分离，提高了小程序的安全性和性能，同时通过数据驱动的渲染方式实现了轻量级、高效的前端体验。",
    "code": "var Component=(()=>{var g=Object.create;var a=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,m=Object.prototype.hasOwnProperty;var v=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),x=(n,e)=>{for(var r in e)a(n,r,{get:e[r],enumerable:!0})},d=(n,e,r,h)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let i of p(e))!m.call(n,i)&&i!==r&&a(n,i,{get:()=>e[i],enumerable:!(h=w(e,i))||h.enumerable});return n};var N=(n,e,r)=>(r=n!=null?g(u(n)):{},d(e||!n||!n.__esModule?a(r,\"default\",{value:n,enumerable:!0}):r,n)),f=n=>d(a({},\"__esModule\",{value:!0}),n);var t=v((b,c)=>{c.exports=_jsx_runtime});var k={};x(k,{default:()=>o,frontmatter:()=>M});var l=N(t()),M={title:\"\\u5C0F\\u7A0B\\u5E8F\\u539F\\u7406\\u7B80\\u8FF0\",date:\"2022-01-26\",tags:[\"interaction design\",\"ux\",\"product design\"],draft:!1,summary:\"\\u5C0F\\u7A0B\\u5E8F\\u539F\\u7406\\u7B80\\u8FF0\\u3002\"};function s(n){let e={a:\"a\",code:\"code\",h1:\"h1\",h2:\"h2\",h3:\"h3\",hr:\"hr\",li:\"li\",ol:\"ol\",p:\"p\",path:\"path\",span:\"span\",strong:\"strong\",svg:\"svg\",ul:\"ul\",...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(e.h1,{className:\"content-header\",id:\"\\u53CC\\u7EBF\\u7A0B\\u67B6\\u6784\\u4E0E\\u6E32\\u67D3\\u539F\\u7406\",children:[(0,l.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u53CC\\u7EBF\\u7A0B\\u67B6\\u6784\\u4E0E\\u6E32\\u67D3\\u539F\\u7406\",tabIndex:\"-1\",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(e.span,{className:\"content-header-link\",children:(0,l.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,l.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,l.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"\\u53CC\\u7EBF\\u7A0B\\u67B6\\u6784\\u4E0E\\u6E32\\u67D3\\u539F\\u7406\"]}),(0,l.jsxs)(e.h2,{className:\"content-header\",id:\"\\u53CC\\u7EBF\\u7A0B\\u67B6\\u6784\\u6982\\u8FF0\",children:[(0,l.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u53CC\\u7EBF\\u7A0B\\u67B6\\u6784\\u6982\\u8FF0\",tabIndex:\"-1\",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(e.span,{className:\"content-header-link\",children:(0,l.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,l.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,l.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,l.jsx)(e.strong,{children:\"\\u53CC\\u7EBF\\u7A0B\\u67B6\\u6784\\u6982\\u8FF0\"})]}),(0,l.jsxs)(e.ul,{children:[(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u903B\\u8F91\\u5C42\"}),\"\\uFF1A\",(0,l.jsx)(e.ul,{children:(0,l.jsxs)(e.li,{children:[\"\\u4F7F\\u7528 \",(0,l.jsx)(e.code,{children:\"JavaScriptCore\"}),\" (JSC) \\u8FD0\\u884C JavaScript \\u811A\\u672C\\u3002\"]})})]}),(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6E32\\u67D3\\u5C42\"}),\"\\uFF1A\",(0,l.jsx)(e.ul,{children:(0,l.jsxs)(e.li,{children:[\"\\u4F7F\\u7528 \",(0,l.jsx)(e.code,{children:\"WebView\"}),\" \\u6E32\\u67D3\\u9875\\u9762\\u3002\"]})})]})]}),(0,l.jsxs)(e.h3,{className:\"content-header\",id:\"\\u7EBF\\u7A0B\\u4E4B\\u95F4\\u7684\\u901A\\u4FE1\",children:[(0,l.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u7EBF\\u7A0B\\u4E4B\\u95F4\\u7684\\u901A\\u4FE1\",tabIndex:\"-1\",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(e.span,{className:\"content-header-link\",children:(0,l.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,l.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,l.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,l.jsx)(e.strong,{children:\"\\u7EBF\\u7A0B\\u4E4B\\u95F4\\u7684\\u901A\\u4FE1\"})]}),(0,l.jsxs)(e.ul,{children:[(0,l.jsxs)(e.li,{children:[\"\\u4E24\\u4E2A\\u7EBF\\u7A0B\\u901A\\u8FC7 \",(0,l.jsx)(e.strong,{children:\"Native \\u5FAE\\u4FE1\\u5BA2\\u6237\\u7AEF\"}),\" \\u8FDB\\u884C\\u901A\\u4FE1\\u3002\"]}),(0,l.jsxs)(e.li,{children:[\"\\u5FAE\\u4FE1\\u5BA2\\u6237\\u7AEF\\u8FD8\\u8D1F\\u8D23 \",(0,l.jsx)(e.strong,{children:\"\\u53D1\\u9001\\u7F51\\u7EDC\\u8BF7\\u6C42\"}),\"\\u3002\"]})]}),(0,l.jsx)(e.hr,{}),(0,l.jsxs)(e.h2,{className:\"content-header\",id:\"\\u53CC\\u7EBF\\u7A0B\\u7684\\u4F18\\u52BF\",children:[(0,l.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u53CC\\u7EBF\\u7A0B\\u7684\\u4F18\\u52BF\",tabIndex:\"-1\",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(e.span,{className:\"content-header-link\",children:(0,l.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,l.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,l.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,l.jsx)(e.strong,{children:\"\\u53CC\\u7EBF\\u7A0B\\u7684\\u4F18\\u52BF\"})]}),(0,l.jsxs)(e.ol,{children:[(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u9694\\u79BB\\u64CD\\u4F5C\"}),\"\\uFF1A\",(0,l.jsx)(e.ul,{children:(0,l.jsx)(e.li,{children:\"\\u5F00\\u53D1\\u8005\\u65E0\\u6CD5\\u76F4\\u63A5\\u64CD\\u4F5C DOM \\u6216\\u8DF3\\u8F6C\\u9875\\u9762\\u3002\"})})]}),(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5B89\\u5168\\u6027\"}),\"\\uFF1A\",(0,l.jsx)(e.ul,{children:(0,l.jsx)(e.li,{children:\"\\u4FBF\\u4E8E\\u7BA1\\u63A7\\u5371\\u9669 API\\uFF0C\\u907F\\u514D\\u5B89\\u5168\\u95EE\\u9898\\u3002\"})})]}),(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6027\\u80FD\\u4F18\\u5316\"}),\"\\uFF1A\",(0,l.jsx)(e.ul,{children:(0,l.jsx)(e.li,{children:\"\\u6E32\\u67D3\\u548C\\u903B\\u8F91\\u5206\\u79BB\\uFF0C\\u51CF\\u5C11\\u4E92\\u76F8\\u963B\\u585E\\u3002\"})})]})]}),(0,l.jsx)(e.hr,{}),(0,l.jsxs)(e.h2,{className:\"content-header\",id:\"\\u6E32\\u67D3\\u65B9\\u6CD5\\u6570\\u636E\\u9A71\\u52A8\",children:[(0,l.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u6E32\\u67D3\\u65B9\\u6CD5\\u6570\\u636E\\u9A71\\u52A8\",tabIndex:\"-1\",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(e.span,{className:\"content-header-link\",children:(0,l.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,l.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,l.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,l.jsx)(e.strong,{children:\"\\u6E32\\u67D3\\u65B9\\u6CD5\\uFF1A\\u6570\\u636E\\u9A71\\u52A8\"})]}),(0,l.jsxs)(e.ol,{children:[(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6570\\u636E\\u4F20\\u8F93\"}),\"\\uFF1A\",(0,l.jsx)(e.ul,{children:(0,l.jsxs)(e.li,{children:[\"\\u5728\\u903B\\u8F91\\u5C42\\u8C03\\u7528 \",(0,l.jsx)(e.code,{children:\"setData\"}),\" \\u65B9\\u6CD5\\u65F6\\uFF0C\\u5C06\\u6570\\u636E\\u5E8F\\u5217\\u5316\\u4E3A\\u5B57\\u7B26\\u4E32\\u5E76\\u4F20\\u8F93\\u5230\\u6E32\\u67D3\\u5C42\\u3002\"]})})]}),(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6570\\u636E\\u5904\\u7406\"}),\"\\uFF1A\",(0,l.jsx)(e.ul,{children:(0,l.jsx)(e.li,{children:\"\\u6E32\\u67D3\\u5C42 (WebView) \\u5728\\u9875\\u9762\\u7A7A\\u95F2\\u65F6\\u63A5\\u6536\\u6570\\u636E\\u3002\"})})]}),(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6E32\\u67D3\\u6D41\\u7A0B\"}),\"\\uFF1A\",(0,l.jsxs)(e.ul,{children:[(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5408\\u5E76\\u6570\\u636E\"}),\"\\uFF1A\\u5C06\\u65B0\\u6570\\u636E\\u4E0E\\u65E7\\u6570\\u636E\\u5408\\u5E76\\u3002\"]}),(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"Diff \\u7B97\\u6CD5\"}),\"\\uFF1A\\u6BD4\\u8F83\\u8282\\u70B9\\u6811\\u7684\\u5DEE\\u5F02\\uFF0C\\u66F4\\u65B0\\u9700\\u8981\\u53D8\\u5316\\u7684 UI \\u90E8\\u5206\\u3002\"]}),(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u66F4\\u65B0 UI\"}),\"\\uFF1A\\u5C06\\u8BA1\\u7B97\\u7ED3\\u679C\\u53CD\\u6620\\u5230\\u9875\\u9762\\u4E0A\\u3002\"]})]})]})]}),(0,l.jsxs)(e.h3,{className:\"content-header\",id:\"\\u9650\\u5236\",children:[(0,l.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u9650\\u5236\",tabIndex:\"-1\",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(e.span,{className:\"content-header-link\",children:(0,l.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,l.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,l.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,l.jsx)(e.strong,{children:\"\\u9650\\u5236\"})]}),(0,l.jsxs)(e.ul,{children:[(0,l.jsx)(e.li,{children:\"\\u6BCF\\u4E2A\\u89C6\\u56FE\\u4F7F\\u7528\\u72EC\\u7ACB\\u7684 WebView\\u3002\"}),(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u89C6\\u56FE\\u6570\\u91CF\\u9650\\u5236\"}),\"\\uFF1A\\u4E0D\\u80FD\\u8D85\\u8FC7 5 \\u4E2A WebView\\u3002\"]})]}),(0,l.jsx)(e.hr,{}),(0,l.jsxs)(e.h2,{className:\"content-header\",id:\"\\u4E0E-react-native-rn-\\u7684\\u5BF9\\u6BD4\",children:[(0,l.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u4E0E-react-native-rn-\\u7684\\u5BF9\\u6BD4\",tabIndex:\"-1\",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(e.span,{className:\"content-header-link\",children:(0,l.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,l.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,l.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,l.jsx)(e.strong,{children:\"\\u4E0E React Native (RN) \\u7684\\u5BF9\\u6BD4\"})]}),(0,l.jsxs)(e.ol,{children:[(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"CSS \\u652F\\u6301\"}),\"\\uFF1A\",(0,l.jsx)(e.ul,{children:(0,l.jsx)(e.li,{children:\"\\u53CC\\u7EBF\\u7A0B\\u67B6\\u6784\\u5BF9 CSS \\u7684\\u652F\\u6301\\u66F4\\u597D\\uFF0C\\u63A5\\u8FD1 Web \\u6807\\u51C6\\u3002\"})})]}),(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u7A33\\u5B9A\\u6027\"}),\"\\uFF1A\",(0,l.jsx)(e.ul,{children:(0,l.jsx)(e.li,{children:\"RN \\u5B58\\u5728\\u8F83\\u591A Bug\\uFF0C\\u53CC\\u7EBF\\u7A0B\\u67B6\\u6784\\u66F4\\u7A33\\u5B9A\\u3002\"})})]}),(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u6CD5\\u5F8B\\u98CE\\u9669\"}),\"\\uFF1A\",(0,l.jsx)(e.ul,{children:(0,l.jsx)(e.li,{children:\"\\u53CC\\u7EBF\\u7A0B\\u67B6\\u6784\\u907F\\u514D\\u4E86 RN \\u7684\\u4E13\\u5229\\u95EE\\u9898\\u3002\"})})]})]}),(0,l.jsx)(e.hr,{}),(0,l.jsxs)(e.h2,{className:\"content-header\",id:\"\\u6E32\\u67D3\\u7B56\\u7565\",children:[(0,l.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u6E32\\u67D3\\u7B56\\u7565\",tabIndex:\"-1\",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(e.span,{className:\"content-header-link\",children:(0,l.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,l.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,l.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,l.jsx)(e.strong,{children:\"\\u6E32\\u67D3\\u7B56\\u7565\"})]}),(0,l.jsxs)(e.ul,{children:[(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"\\u5C0F\\u7A0B\\u5E8F\"}),\"\\uFF1A\",(0,l.jsxs)(e.ul,{children:[(0,l.jsx)(e.li,{children:\"WebView \\u6E32\\u67D3\\u9875\\u9762\\u3002\"}),(0,l.jsx)(e.li,{children:\"\\u90E8\\u5206\\u539F\\u751F\\u7EC4\\u4EF6\\u7531\\u5BA2\\u6237\\u7AEF\\u76F4\\u63A5\\u6E32\\u67D3\\u3002\"})]})]}),(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:\"React Native\"}),\"\\uFF1A\",(0,l.jsx)(e.ul,{children:(0,l.jsx)(e.li,{children:\"\\u7531\\u5BA2\\u6237\\u7AEF\\u76F4\\u63A5\\u6E32\\u67D3\\u6240\\u6709\\u5185\\u5BB9\\u3002\"})})]})]}),(0,l.jsx)(e.hr,{}),(0,l.jsxs)(e.h2,{className:\"content-header\",id:\"\\u540C\\u5C42\\u6E32\\u67D3\",children:[(0,l.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#\\u540C\\u5C42\\u6E32\\u67D3\",tabIndex:\"-1\",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(e.span,{className:\"content-header-link\",children:(0,l.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,l.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,l.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,l.jsx)(e.strong,{children:\"\\u540C\\u5C42\\u6E32\\u67D3\"})]}),(0,l.jsxs)(e.h3,{className:\"content-header\",id:\"ios\",children:[(0,l.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#ios\",tabIndex:\"-1\",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(e.span,{className:\"content-header-link\",children:(0,l.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,l.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,l.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,l.jsx)(e.strong,{children:\"iOS\"})]}),(0,l.jsx)(e.ul,{children:(0,l.jsxs)(e.li,{children:[\"\\u4F7F\\u7528 \",(0,l.jsx)(e.code,{children:\"WKChildScrollView\"}),\"\\uFF1A\",(0,l.jsx)(e.ul,{children:(0,l.jsxs)(e.li,{children:[\"\\u5C06\\u539F\\u751F\\u7EC4\\u4EF6\\u6302\\u8F7D\\u5230\\u652F\\u6301 \",(0,l.jsx)(e.code,{children:\"overflow: scrolling\"}),\" \\u548C \",(0,l.jsx)(e.code,{children:\"touch\"}),\" \\u7684\\u7EC4\\u4EF6\\u4E0B\\u65B9\\u3002\"]})})]})}),(0,l.jsxs)(e.h3,{className:\"content-header\",id:\"android\",children:[(0,l.jsx)(e.a,{\"aria-hidden\":\"true\",href:\"#android\",tabIndex:\"-1\",children:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(e.span,{className:\"content-header-link\",children:(0,l.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,l.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,l.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),(0,l.jsx)(e.strong,{children:\"Android\"})]}),(0,l.jsx)(e.ul,{children:(0,l.jsxs)(e.li,{children:[\"\\u4F7F\\u7528 \",(0,l.jsx)(e.code,{children:\"WebPlugin\"}),\" \\u5B9E\\u73B0\\u7C7B\\u4F3C\\u7684\\u529F\\u80FD\\u3002\"]})}),(0,l.jsx)(e.hr,{}),(0,l.jsx)(e.p,{children:\"\\u53CC\\u7EBF\\u7A0B\\u67B6\\u6784\\u901A\\u8FC7\\u903B\\u8F91\\u5C42\\u548C\\u6E32\\u67D3\\u5C42\\u7684\\u5206\\u79BB\\uFF0C\\u63D0\\u9AD8\\u4E86\\u5C0F\\u7A0B\\u5E8F\\u7684\\u5B89\\u5168\\u6027\\u548C\\u6027\\u80FD\\uFF0C\\u540C\\u65F6\\u901A\\u8FC7\\u6570\\u636E\\u9A71\\u52A8\\u7684\\u6E32\\u67D3\\u65B9\\u5F0F\\u5B9E\\u73B0\\u4E86\\u8F7B\\u91CF\\u7EA7\\u3001\\u9AD8\\u6548\\u7684\\u524D\\u7AEF\\u4F53\\u9A8C\\u3002\"})]})}function o(n={}){let{wrapper:e}=n.components||{};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(s,{...n})}):s(n)}return f(k);})();\n;return Component;"
  },
  "_id": "blog/miniprogram.mdx",
  "_raw": {
    "sourceFilePath": "blog/miniprogram.mdx",
    "sourceFileName": "miniprogram.mdx",
    "sourceFileDir": "blog",
    "contentType": "mdx",
    "flattenedPath": "blog/miniprogram"
  },
  "type": "Blog",
  "readingTime": {
    "text": "3 min read",
    "minutes": 2.46,
    "time": 147600,
    "words": 492
  },
  "slug": "miniprogram",
  "path": "blog/miniprogram",
  "filePath": "blog/miniprogram.mdx",
  "toc": [
    {
      "value": "双线程架构与渲染原理",
      "url": "#双线程架构与渲染原理",
      "depth": 1
    },
    {
      "value": "双线程架构概述",
      "url": "#双线程架构概述",
      "depth": 2
    },
    {
      "value": "线程之间的通信",
      "url": "#线程之间的通信",
      "depth": 3
    },
    {
      "value": "双线程的优势",
      "url": "#双线程的优势",
      "depth": 2
    },
    {
      "value": "渲染方法：数据驱动",
      "url": "#渲染方法数据驱动",
      "depth": 2
    },
    {
      "value": "限制",
      "url": "#限制",
      "depth": 3
    },
    {
      "value": "与 React Native (RN) 的对比",
      "url": "#与-react-native-rn-的对比",
      "depth": 2
    },
    {
      "value": "渲染策略",
      "url": "#渲染策略",
      "depth": 2
    },
    {
      "value": "同层渲染",
      "url": "#同层渲染",
      "depth": 2
    },
    {
      "value": "iOS",
      "url": "#ios",
      "depth": 3
    },
    {
      "value": "Android",
      "url": "#android",
      "depth": 3
    }
  ],
  "structuredData": {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "小程序原理简述",
    "datePublished": "2022-01-26T00:00:00.000Z",
    "dateModified": "2022-01-26T00:00:00.000Z",
    "description": "小程序原理简述。",
    "image": "/static/images/twitter-card.png",
    "url": "https://hpoenixf.com//blog/miniprogram"
  }
}